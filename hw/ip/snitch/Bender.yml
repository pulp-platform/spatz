# Copyright 2025 ETH Zurich and University of Bologna.
# Licensed under the Apache License, Version 2.0, see LICENSE for details.
# SPDX-License-Identifier: Apache-2.0

package:
  name: snitch
  authors:
    - "Diyou Shen         <dishen@iis.ee.ethz.ch"

dependencies:
  common_cells:       { git: "https://github.com/pulp-platform/common_cells.git",       version: 1.28.0         }
  tech_cells_generic: { git: "https://github.com/pulp-platform/tech_cells_generic.git", version: 0.2.13         }

export_include_dirs:
  - include

sources:
  # Level 0:
  - src/snitch_pma_pkg.sv
  # Level 1:
  - src/snitch_pkg.sv
  # Level 2:
  - src/snitch_regfile_ff.sv
  # - src/snitch_regfile_fpga.sv
  # - src/snitch_regfile_latch.sv
  - src/snitch_lsu.sv
  - src/snitch_l0_tlb.sv
  - src/riscv_instr.sv
  # Level 1:
  - target: not(disable_pmcs)
    defines:
      SNITCH_ENABLE_PERF:
    files:
      - src/snitch.sv
  # Disable the performance monitoring counters to save area.
  - target: disable_pmcs
    files:
      - src/snitch.sv

  - target: test
    files:
      - test/snitch_l0_tlb_tb.sv
